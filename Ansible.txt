To install ansible on amazonlinux
-----------------------------------
amazon-linux-extras install ansible2 -y
yum install python-pip -y

Set password for the root user
PasswordAuthentication: yes
path:/etc/ssh/sshd_config 
restart: systemctl restart sshd

GENERATE A KEY IN  ANSIBLE USER ON MASTER SERVER (ssh-keygen)
It will generate 2 keys (public & private)
COPY THE PUBLIC KEY TO ALL SLAVE SERVERS (ssh-copy-id root@slave_ip)



Ansible playbook to install httpd server
----------------------------------------

---
- name: Setup HTTPD server on multiple machines
  hosts: dev
  become: yes
  tasks:
    # Install HTTPD package
    - name: Install HTTPD
      yum:
        name: httpd
        state: present

    # Start and enable the HTTPD service
    - name: Start and enable HTTPD service
      service:
        name: httpd
        state: started
        enabled: yes


note:[the --- is called a YAML document separator.]

Ansible Inventory
-----------------
The inventory file in Ansible is where you define the hosts and groups of hosts that Ansible will manage. 
It tells Ansible which systems to connect to and provides variables and configuration for those systems.

example:
[all]
server1 ansible_host=192.168.1.10 ansible_user=ubuntu ansible_ssh_private_key_file=~/.ssh/id_rsa
server2 ansible_host=192.168.1.11 ansible_user=ubuntu ansible_ssh_private_key_file=~/.ssh/id_rsa


Ansible Playbook to install git, java and maven
-----------------------------------------------
---
- name: Install Git, Java, and Maven on Amazon Linux
  hosts: all
  become: yes
  tasks:
    - name: Update the package repository
      ansible.builtin.yum:
        name: "*"
        state: latest

    - name: Install Git
      ansible.builtin.yum:
        name: git
        state: present

    - name: Install Java (OpenJDK 11)
      ansible.builtin.yum:
        name: java-11-openjdk
        state: present

    - name: Install Maven
      ansible.builtin.yum:
        name: maven
        state: present

    - name: Verify installations
      ansible.builtin.shell: |
        echo "Git Version: $(git --version)"
        echo "Java Version: $(java -- version)"
        echo "Maven Version: $(mvn --version)"